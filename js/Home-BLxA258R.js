import{j as e,u as k,a as I,s as R,b as O,c as $,d as F,g as L,e as z,f as V,C as B,R as v,B as i,P as U,S as r,h as m,i as W,k as q}from"./index-_3K3tdZ7.js";import{r as a,L as j}from"./react-vendor-BQWX9zlF.js";import{u as J,i as M,f as K,a as Q,b as D}from"./useInView-CBotg6OK.js";import{P as X}from"./ProcedureCard-CpbYyCMD.js";import{S as Y}from"./SEO-BXFHu52F.js";import"./redux-vendor-B8TTZsxA.js";import"./firebase-vendor-CGxEfUHl.js";import"./form-vendor-BjD3cHyu.js";const Z="_root_b8wul_1",ee="_content_b8wul_5",se="_contentVisible_b8wul_14",b={root:Z,content:ee,contentVisible:se},g=({placeholder:n,children:S,className:T,rootMargin:c="700px 0px",onEnter:o})=>{const{ref:l,inView:_}=J({once:!1,rootMargin:c}),[d,h]=a.useState(!1),[p,N]=a.useState(!1),[w,f]=a.useState(!1);return a.useEffect(()=>{_&&(d||h(!0),w||(f(!0),o?.()))},[_,d,w,o]),a.useEffect(()=>{if(!d)return;const y=window.requestAnimationFrame(()=>N(!0));return()=>window.cancelAnimationFrame(y)},[d]),e.jsx("div",{ref:l,className:[b.root,T||""].filter(Boolean).join(" "),children:d?e.jsx("div",{className:[b.content,p?b.contentVisible:""].filter(Boolean).join(" "),children:S}):n})},te="_home_8vryx_1",ae="_hero_8vryx_5",ne="_heroContent_8vryx_14",ie="_heroTitle_8vryx_19",re="_heroSubtitle_8vryx_27",ce="_heroDescription_8vryx_34",oe="_heroActions_8vryx_41",le="_section_8vryx_48",de="_container_8vryx_52",he="_sectionTitle_8vryx_57",xe="_proceduresGrid_8vryx_65",ve="_sectionAction_8vryx_72",me="_aboutSection_8vryx_76",je="_aboutContent_8vryx_80",_e="_aboutText_8vryx_87",ue="_aboutImage_8vryx_100",ge="_imagePlaceholder_8vryx_104",pe="_advantagesGrid_8vryx_117",Ne="_advantageCard_8vryx_123",we="_advantageIcon_8vryx_128",fe="_reviewsSection_8vryx_154",ye="_reviewsHeader_8vryx_158",Se="_rating_8vryx_167",Te="_reviewsGrid_8vryx_174",Ce="_reviewCard_8vryx_180",be="_reviewHeader_8vryx_186",Ae="_reviewProcedure_8vryx_198",Pe="_reviewRating_8vryx_204",Ee="_reviewText_8vryx_209",Ie="_reviewDate_8vryx_216",Re="_ctaSection_8vryx_222",$e="_ctaCard_8vryx_229",Me="_ctaActions_8vryx_249",s={home:te,hero:ae,heroContent:ne,heroTitle:ie,heroSubtitle:re,heroDescription:ce,heroActions:oe,section:le,container:de,sectionTitle:he,proceduresGrid:xe,sectionAction:ve,aboutSection:me,aboutContent:je,aboutText:_e,aboutImage:ue,imagePlaceholder:ge,advantagesGrid:pe,advantageCard:Ne,advantageIcon:we,reviewsSection:fe,reviewsHeader:ye,rating:Se,reviewsGrid:Te,reviewCard:Ce,reviewHeader:be,reviewProcedure:Ae,reviewRating:Pe,reviewText:Ee,reviewDate:Ie,ctaSection:Re,ctaCard:$e,ctaActions:Me},Ve=()=>{const n=k(),[S,T]=a.useState(null),[c,o]=a.useState(0),{items:l,lastFetched:_,loading:d}=I(t=>t.procedures),{items:h,averageRating:p,lastFetched:N,loading:w}=I(t=>t.reviews),f=a.useCallback(async()=>{if(l.length===0||M(_,3e5)){n(R(!0));try{const C=await K();n(O(C))}finally{n(R(!1))}}if(h.length===0||M(N,18e4)){n($(!0));try{const C=await Q();n(F(C))}finally{n($(!1))}}},[n,l.length,_,h.length,N]);a.useEffect(()=>{f()},[f]),a.useEffect(()=>{let t=!0;return L().then(x=>{t&&T(x)}).catch(()=>{}),()=>{t=!1}},[]);const y=a.useMemo(()=>l.filter(t=>t.popular).slice(0,4),[l]),A=a.useMemo(()=>h.slice(0,3),[h]),u=S||{...B,whatsappPhone:""},G=D(d&&l.length===0,160),H=D(w&&h.length===0,160),P=a.useMemo(()=>{const t=`Здравствуйте! Хочу записаться в ${q}.`;return z({whatsappPhone:u.whatsappPhone,text:t})},[u.whatsappPhone]),E=a.useMemo(()=>V({telegramLink:u.socialMedia.telegram}),[u.socialMedia.telegram]);return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"Главная",description:"Профессиональные косметологические процедуры. Индивидуальный подход, современные технологии, гарантия качества.",keywords:"косметология, косметолог, процедуры для лица, косметические услуги"}),e.jsxs("div",{className:s.home,children:[e.jsx("section",{className:s.hero,children:e.jsxs("div",{className:s.heroContent,children:[e.jsxs("h1",{className:s.heroTitle,children:["Профессиональная косметология",e.jsx("br",{}),e.jsx("span",{className:s.heroSubtitle,children:"для вашей красоты"})]}),e.jsx("p",{className:s.heroDescription,children:"Индивидуальный подход к каждому клиенту. Современные технологии и проверенные методики для достижения идеального результата."}),e.jsxs("div",{className:s.heroActions,children:[e.jsx(j,{to:v.CONTACTS,children:e.jsx(i,{size:"large",children:"Записаться на консультацию"})}),e.jsx(j,{to:v.PROCEDURES,children:e.jsx(i,{variant:"outline",size:"large",children:"Посмотреть процедуры"})})]})]})}),c>=0&&e.jsx(g,{onEnter:()=>o(t=>Math.max(t,1)),placeholder:e.jsx("section",{className:s.section,children:e.jsxs("div",{className:s.container,children:[e.jsx(r,{variant:"text",height:32,width:280}),e.jsx("div",{style:{marginTop:24},children:e.jsx(r,{height:360,radius:16})})]})}),children:G?e.jsx("section",{className:s.section,children:e.jsxs("div",{className:s.container,children:[e.jsx("h2",{className:s.sectionTitle,children:"Популярные процедуры"}),e.jsx("div",{className:s.proceduresGrid,children:Array.from({length:4}).map((t,x)=>e.jsx(U,{},x))})]})}):y.length>0?e.jsx("section",{className:s.section,children:e.jsxs("div",{className:s.container,children:[e.jsx("h2",{className:s.sectionTitle,children:"Популярные процедуры"}),e.jsx("div",{className:s.proceduresGrid,children:y.map(t=>e.jsx(X,{procedure:t},t.id))}),e.jsx("div",{className:s.sectionAction,children:e.jsx(j,{to:v.PROCEDURES,children:e.jsx(i,{variant:"outline",children:"Все процедуры"})})})]})}):null}),c>=1&&e.jsx(g,{onEnter:()=>o(t=>Math.max(t,2)),placeholder:e.jsx("section",{className:`${s.section} ${s.aboutSection}`,children:e.jsxs("div",{className:s.container,children:[e.jsx(r,{variant:"text",height:32,width:240}),e.jsx("div",{style:{marginTop:24},children:e.jsx(r,{height:420,radius:16})})]})}),children:e.jsx("section",{className:`${s.section} ${s.aboutSection}`,children:e.jsx("div",{className:s.container,children:e.jsxs("div",{className:s.aboutContent,children:[e.jsxs("div",{className:s.aboutText,children:[e.jsx("h2",{className:s.sectionTitle,children:"О специалисте"}),e.jsx("p",{children:"Опытный косметолог с многолетним стажем работы. Постоянно повышаю квалификацию, посещаю семинары и мастер-классы ведущих специалистов индустрии красоты."}),e.jsx("p",{children:"Использую только сертифицированные препараты и современное оборудование. Индивидуальный подход к каждому клиенту и гарантия качества услуг."}),e.jsx(j,{to:v.ABOUT,children:e.jsx(i,{children:"Узнать больше"})})]}),e.jsx("div",{className:s.aboutImage,children:e.jsx("div",{className:s.imagePlaceholder,children:e.jsx("span",{children:"Фото специалиста"})})})]})})})}),c>=2&&e.jsx(g,{onEnter:()=>o(t=>Math.max(t,3)),placeholder:e.jsx("section",{className:s.section,children:e.jsxs("div",{className:s.container,children:[e.jsx(r,{variant:"text",height:32,width:320}),e.jsx("div",{style:{marginTop:24},children:e.jsx(r,{height:320,radius:16})})]})}),children:e.jsx("section",{className:s.section,children:e.jsxs("div",{className:s.container,children:[e.jsx("h2",{className:s.sectionTitle,children:"Почему выбирают нас"}),e.jsxs("div",{className:s.advantagesGrid,children:[e.jsxs(m,{className:s.advantageCard,children:[e.jsx("div",{className:s.advantageIcon,children:"✓"}),e.jsx("h3",{children:"Опыт работы"}),e.jsx("p",{children:"Более 10 лет успешной практики"})]}),e.jsxs(m,{className:s.advantageCard,children:[e.jsx("div",{className:s.advantageIcon,children:"✓"}),e.jsx("h3",{children:"Сертификаты"}),e.jsx("p",{children:"Регулярное повышение квалификации"})]}),e.jsxs(m,{className:s.advantageCard,children:[e.jsx("div",{className:s.advantageIcon,children:"✓"}),e.jsx("h3",{children:"Индивидуальный подход"}),e.jsx("p",{children:"Персональная программа для каждого клиента"})]}),e.jsxs(m,{className:s.advantageCard,children:[e.jsx("div",{className:s.advantageIcon,children:"✓"}),e.jsx("h3",{children:"Современное оборудование"}),e.jsx("p",{children:"Использование новейших технологий"})]})]})]})})}),c>=3&&e.jsx(g,{onEnter:()=>o(t=>Math.max(t,4)),placeholder:e.jsx("section",{className:`${s.section} ${s.reviewsSection}`,children:e.jsxs("div",{className:s.container,children:[e.jsx(r,{variant:"text",height:32,width:260}),e.jsx("div",{style:{marginTop:24},children:e.jsx(r,{height:360,radius:16})})]})}),children:H?e.jsx("section",{className:`${s.section} ${s.reviewsSection}`,children:e.jsxs("div",{className:s.container,children:[e.jsx("div",{className:s.reviewsHeader,children:e.jsx("div",{children:e.jsx("h2",{className:s.sectionTitle,children:"Отзывы клиентов"})})}),e.jsx("div",{className:s.reviewsGrid,children:Array.from({length:3}).map((t,x)=>e.jsx(W,{},x))})]})}):A.length>0?e.jsx("section",{className:`${s.section} ${s.reviewsSection}`,children:e.jsxs("div",{className:s.container,children:[e.jsxs("div",{className:s.reviewsHeader,children:[e.jsxs("div",{children:[e.jsx("h2",{className:s.sectionTitle,children:"Отзывы клиентов"}),p>0&&e.jsxs("p",{className:s.rating,children:["Средняя оценка: ",p.toFixed(1)," ⭐"]})]}),e.jsx(j,{to:v.REVIEWS,children:e.jsx(i,{variant:"outline",children:"Все отзывы"})})]}),e.jsx("div",{className:s.reviewsGrid,children:A.map(t=>e.jsxs(m,{className:s.reviewCard,children:[e.jsxs("div",{className:s.reviewHeader,children:[e.jsxs("div",{children:[e.jsx("h4",{children:t.clientName}),e.jsx("p",{className:s.reviewProcedure,children:t.procedureName})]}),e.jsx("div",{className:s.reviewRating,children:"⭐".repeat(t.rating)})]}),e.jsx("p",{className:s.reviewText,children:t.text}),e.jsx("p",{className:s.reviewDate,children:t.date})]},t.id))})]})}):null}),c>=4&&e.jsx(g,{placeholder:e.jsx("section",{className:`${s.section} ${s.ctaSection}`,children:e.jsx("div",{className:s.container,children:e.jsx(r,{height:220,radius:16})})}),children:e.jsx("section",{className:`${s.section} ${s.ctaSection}`,children:e.jsx("div",{className:s.container,children:e.jsxs(m,{className:s.ctaCard,children:[e.jsx("h2",{children:"Готовы начать?"}),e.jsx("p",{children:"Запишитесь на консультацию и узнайте, как мы можем помочь"}),e.jsxs("div",{className:s.ctaActions,children:[e.jsx(j,{to:v.CONTACTS,children:e.jsx(i,{size:"large",children:"Записаться"})}),e.jsx("a",{href:`tel:${u.phone}`,children:e.jsx(i,{variant:"outline",size:"large",children:"Позвонить"})}),P&&e.jsx("a",{href:P,target:"_blank",rel:"noopener noreferrer",children:e.jsx(i,{variant:"outline",size:"large",children:"WhatsApp"})}),E&&e.jsx("a",{href:E,target:"_blank",rel:"noopener noreferrer",children:e.jsx(i,{variant:"outline",size:"large",children:"Telegram"})})]})]})})})})]})]})};export{Ve as default};
