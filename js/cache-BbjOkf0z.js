import{p as c,q as a,t as i,v as n,_ as o}from"./index-dp0cXq8c.js";async function t(){return(await o(()=>import("./mockData-INJWuUSN.js"),[])).mockProcedures}async function s(){return(await o(()=>import("./mockData-INJWuUSN.js"),[])).mockReviews}const m=async()=>{try{return await c.getAll()}catch(e){return console.error("Ошибка загрузки процедур из Firebase:",e),await t()}return await new Promise(e=>setTimeout(e,500)),await t()},w=async()=>{try{return await a.getApproved()}catch(e){return console.error("Ошибка загрузки отзывов из Firebase:",e),await s()}return await new Promise(e=>setTimeout(e,300)),await s()},p=async e=>{try{return await n.create(e),{success:!0,message:"Ваша заявка успешно отправлена! Мы свяжемся с вами в ближайшее время."}}catch(r){return console.error("Ошибка отправки заявки в Firebase:",r),{success:!1,message:"Ошибка при отправке заявки. Попробуйте позже."}}return await new Promise(r=>setTimeout(r,1e3)),{success:!0,message:"Ваша заявка успешно отправлена! Мы свяжемся с вами в ближайшее время."}},v=async e=>{try{const r=await a.create({clientName:e.clientName,procedureId:e.procedureId,procedureName:e.procedureName,rating:e.rating,text:e.text,date:new Date().toISOString().split("T")[0]});return await i.upsert(r,{phone:e.phone}),{success:!0,message:"Спасибо! Отзыв отправлен и появится на сайте после модерации."}}catch(r){return console.error("Ошибка отправки отзыва в Firebase:",r),{success:!1,message:"Ошибка при отправке отзыва. Попробуйте позже."}}return{success:!0,message:"Спасибо! Отзыв сохранён локально (режим без Firebase)."}};function g(e,r){return e?Date.now()-e>r:!0}export{w as a,p as b,m as f,g as i,v as s};
