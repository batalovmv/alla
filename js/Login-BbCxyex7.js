import{u as f,a as p,D as n,E as r,F as c,j as i,L as h,G as x,H as l,J as A,R as u}from"./index-DIj3rxSm.js";import{b as v,r as E}from"./react-vendor-BQWX9zlF.js";import{v as L,t as S}from"./firebase-vendor-CGxEfUHl.js";import"./redux-vendor-B8TTZsxA.js";import"./form-vendor-BjD3cHyu.js";const _="_loginPage_1ehxv_1",b="_container_1ehxv_9",m={loginPage:_,container:b},R=()=>{const a=v(),s=f(),{user:d}=p(e=>e.auth);if(E.useEffect(()=>{if(!n){s(r("Firebase не настроен. Пожалуйста, настройте Firebase для работы админ-панели.")),s(c(!1));return}const e=L(n,t=>{s(x(t)),s(c(!1)),t&&(s(l({adminLoading:!0,isAdmin:!1})),A(t).then(o=>{s(l({adminLoading:!1,isAdmin:o})),o?a(u.ADMIN):(s(r("У этого аккаунта нет прав администратора.")),S(n).catch(()=>{}))}))});return()=>e()},[s,a]),d)return null;const g=()=>{a(u.ADMIN)};return i.jsx("div",{className:m.loginPage,children:i.jsx("div",{className:m.container,children:i.jsx(h,{onSuccess:g})})})};export{R as default};
