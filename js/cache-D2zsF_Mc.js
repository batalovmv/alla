import{p as c,o,q as i,t as n,_ as a}from"./index-DkN5fU9C.js";async function t(){return(await a(()=>import("./mockData-INJWuUSN.js"),[])).mockProcedures}async function s(){return(await a(()=>import("./mockData-INJWuUSN.js"),[])).mockReviews}const m=async()=>{try{return await c.getAll()}catch(e){return console.error("Ошибка загрузки процедур из Firebase:",e),await t()}return await new Promise(e=>setTimeout(e,500)),await t()},w=async()=>{try{return await o.getApproved()}catch(e){return console.error("Ошибка загрузки отзывов из Firebase:",e),await s()}return await new Promise(e=>setTimeout(e,300)),await s()},g=async e=>{try{return await n.create(e),{success:!0,message:"Ваша заявка успешно отправлена! Мы свяжемся с вами в ближайшее время."}}catch(r){return console.error("Ошибка отправки заявки в Firebase:",r),{success:!1,message:"Ошибка при отправке заявки. Попробуйте позже."}}return await new Promise(r=>setTimeout(r,1e3)),console.log("Booking submitted:",e),{success:!0,message:"Ваша заявка успешно отправлена! Мы свяжемся с вами в ближайшее время."}},p=async e=>{try{const r=await o.create({clientName:e.clientName,procedureId:e.procedureId,procedureName:e.procedureName,rating:e.rating,text:e.text,date:new Date().toISOString().split("T")[0]});return await i.upsert(r,{phone:e.phone}),{success:!0,message:"Спасибо! Отзыв отправлен и появится на сайте после модерации."}}catch(r){return console.error("Ошибка отправки отзыва в Firebase:",r),{success:!1,message:"Ошибка при отправке отзыва. Попробуйте позже."}}return{success:!0,message:"Спасибо! Отзыв сохранён локально (режим без Firebase)."}};function v(e,r){return e?Date.now()-e>r:!0}export{w as a,g as b,m as f,v as i,p as s};
