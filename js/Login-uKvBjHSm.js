import{u as p,a as d,w as i,x as o,y as r,j as n,L as m,z as f,A as h,R as c}from"./index-CLNOrmPb.js";import{b as x,r as A}from"./react-vendor-BQWX9zlF.js";import{v as _,t as v}from"./firebase-vendor-CGxEfUHl.js";import"./redux-vendor-B8TTZsxA.js";import"./form-vendor-BjD3cHyu.js";const D="_loginPage_1ehxv_1",I="_container_1ehxv_9",l={loginPage:D,container:I},j=()=>{const a=x(),s=p(),{user:u}=d(t=>t.auth);if(A.useEffect(()=>{if(!i){s(o("Firebase не настроен. Пожалуйста, настройте Firebase для работы админ-панели.")),s(r(!1));return}const t=_(i,e=>{s(f(e)),s(r(!1)),e&&(h(e.uid)?a(c.ADMIN):(s(o(`У этого аккаунта нет прав администратора. UID: ${e.uid}. Добавьте этот UID в allowlist (VITE_ADMIN_UID(S)) и в Firebase Rules.`)),v(i).catch(()=>{})))});return()=>t()},[s,a]),u)return null;const g=()=>{a(c.ADMIN)};return n.jsx("div",{className:l.loginPage,children:n.jsx("div",{className:l.container,children:n.jsx(m,{onSuccess:g})})})};export{j as default};
